<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>VSABrains - Evaluation Status</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@400;600&family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/site.css">
    <style>
      .status-pill {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        letter-spacing: 0.04em;
        text-transform: uppercase;
        border: 1px solid rgba(0,0,0,0.15);
        background: rgba(0,0,0,0.04);
      }
      .status-pass { border-color: #1f7a3b; color: #1f7a3b; background: rgba(31,122,59,0.08); }
      .status-partial { border-color: #b56b14; color: #b56b14; background: rgba(181,107,20,0.08); }
      .status-pending { border-color: #8a8a8a; color: #8a8a8a; background: rgba(0,0,0,0.04); }
      .table { width: 100%; border-collapse: collapse; font-size: 14px; }
      .table th, .table td { text-align: left; padding: 10px 8px; border-bottom: 1px solid rgba(0,0,0,0.1); }
      .table th { font-weight: 600; }
      .muted { color: rgba(0,0,0,0.6); }
      .section + .section { margin-top: 24px; }
      .note { font-size: 13px; color: rgba(0,0,0,0.65); }
      .eval-nav { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; }
      .eval-button {
        border: 1px solid rgba(0,0,0,0.15);
        background: rgba(0,0,0,0.03);
        color: inherit;
        padding: 8px 12px;
        border-radius: 10px;
        font-weight: 600;
        cursor: pointer;
      }
      .eval-button[aria-selected="true"] {
        border-color: #0f172a;
        background: #0f172a;
        color: white;
      }
      .eval-content { margin-top: 6px; }
      .loading { padding: 6px 0; }
      .eval-error {
        padding: 10px 12px;
        border-radius: 10px;
        border: 1px solid rgba(180, 30, 30, 0.3);
        background: rgba(180, 30, 30, 0.08);
        color: #7a1f1f;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="site">
      <header class="header">
        <a class="brand" href="../index.html" aria-label="VSABrains home">
          <span>VSABrains</span>
        </a>
      </header>

      <main class="main content">
        <div class="hero">
          <h1 class="hero-title">Evaluation Status</h1>
          <p class="hero-subtitle">
            Current validation state against DS003 criteria.
          </p>
        </div>

        <div class="section">
          <h2>Summary</h2>
          <p><span class="status-pill status-pass">Full Success</span></p>
          <p class="note">
            Last full run: 2026-01-26T20:45:03Z. DS003 success criteria are met under the current evaluation configuration.
          </p>
          <p class="note">
            Recent updates: Exp4 consensus, work proxies, and compression sweep were refreshed on 2026-01-27.
          </p>
          <p class="note">
            Evaluation configuration notes: Exp2 time localization is measured via replay-based window verification against fast maps (not through a separate learned time model). Exp3 uses a deterministic extractor stub (no external LLM), so extractor stability and latency under real LLMs are not yet validated.
          </p>
          <p class="note">
            Exp6 uses a simulated semantic encoder to stress the frame/query pipeline for literature and dialogue.
          </p>
        </div>

        <div class="section">
          <h2>Experiments</h2>
          <p class="note">
            Click an experiment to load its dedicated page with context, interpretation, and visuals.
          </p>
          <div class="eval-nav" role="tablist" aria-label="Evaluation experiments">
            <button class="eval-button" data-doc="exp1.html" role="tab" aria-selected="false">Exp 1: Alignment</button>
            <button class="eval-button" data-doc="exp2.html" role="tab" aria-selected="false">Exp 2: Narrative</button>
            <button class="eval-button" data-doc="exp3.html" role="tab" aria-selected="false">Exp 3: Grounded RAG</button>
            <button class="eval-button" data-doc="exp4.html" role="tab" aria-selected="false">Exp 4: Consensus vs List</button>
            <button class="eval-button" data-doc="exp5.html" role="tab" aria-selected="true">Exp 5: Performance</button>
            <button class="eval-button" data-doc="exp6.html" role="tab" aria-selected="false">Exp 6: Literature</button>
            <button class="eval-button" data-doc="optimizations.html" role="tab" aria-selected="false">Optimizations</button>
          </div>
        </div>

        <div id="eval-content" class="eval-content" aria-live="polite">
          <p class="note loading">Loading experiment…</p>
        </div>

        <div class="section">
          <h2>Known Gaps</h2>
          <table class="table">
            <thead>
              <tr>
                <th>Area</th>
                <th>Gap</th>
                <th>Impact</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Exp3 Extraction</td>
                <td>Extractor is deterministic stub, not a live LLM.</td>
                <td>LLM variance, latency, and error rates not validated.</td>
              </tr>
              <tr>
                <td>Exp2 Time Localization</td>
                <td>Measured via replay verification, not a learned or independent time model.</td>
                <td>Success reflects deterministic verification, not predictive time inference.</td>
              </tr>
          <tr>
            <td>Compression Sweep</td>
            <td>Compression sweep now covers grid size and heavy-hitters <code>k</code>, but only on Exp4 proxies.</td>
            <td>Compression effects on Exp1/Exp2 and real memory usage remain unvalidated.</td>
          </tr>
          <tr>
            <td>Exp6 Encoder</td>
            <td>Semantic encoder is simulated; not a production‑grade model.</td>
            <td>Frame quality reflects the generator, not a live LLM pipeline.</td>
          </tr>
        </tbody>
      </table>
    </div>
      </main>

      <script>
        const buttons = Array.from(document.querySelectorAll('.eval-button'));
        const content = document.getElementById('eval-content');

        async function loadDoc(doc, clickedButton = null) {
          if (!content) return;
          content.innerHTML = '<p class="note loading">Loading experiment…</p>';

          try {
            const res = await fetch(doc, { cache: 'no-store' });
            if (!res.ok) throw new Error(`Failed to load ${doc}: ${res.status}`);
            const html = await res.text();
            content.innerHTML = html;
          } catch (err) {
            content.innerHTML = `<div class="eval-error">Could not load <code>${doc}</code>. ${err.message}</div>`;
          }

          for (const btn of buttons) {
            const isActive = btn === clickedButton || (!clickedButton && btn.dataset.doc === doc);
            btn.setAttribute('aria-selected', isActive ? 'true' : 'false');
          }
        }

        for (const btn of buttons) {
          btn.addEventListener('click', () => loadDoc(btn.dataset.doc, btn));
        }

        loadDoc('exp5.html');
      </script>

      <footer class="footer">
        Status page generated from the latest eval outputs and DS003 success criteria.
      </footer>
    </div>
  </body>
</html>
